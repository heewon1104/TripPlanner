{"ast":null,"code":"import { useEffect } from 'react';\nvar modals = [];\nvar modalManager = {\n  add: function add(newModal) {\n    modals.push(newModal);\n  },\n  remove: function remove(oldModal) {\n    modals = modals.filter(function (modal) {\n      return modal !== oldModal;\n    });\n  },\n  isTopModal: function isTopModal(modal) {\n    return !!modals.length && modals[modals.length - 1] === modal;\n  }\n};\nfunction useModalManager(ref, open) {\n  useEffect(function () {\n    if (open) {\n      modalManager.add(ref);\n    }\n    return function () {\n      modalManager.remove(ref);\n    };\n  }, [open, ref]);\n}\nexport { modalManager, useModalManager };","map":{"version":3,"names":["modals","modalManager","add","newModal","push","remove","oldModal","filter","modal","isTopModal","length","useModalManager","ref","open","useEffect"],"sources":["C:\\Users\\이세희\\Documents\\project_oyr\\node_modules\\@sajari\\react-components\\src\\Modal\\modalManager.ts"],"sourcesContent":["import { Ref, useEffect } from 'react';\n\nlet modals: Ref<Element>[] = [];\n\n/**\n * Handle the order of the modals.\n * Inspired by the material-ui implementation.\n */\nexport const modalManager = {\n  /**\n   * Register a new modal\n   */\n  add: (newModal: Ref<Element>) => {\n    modals.push(newModal);\n  },\n\n  /**\n   * Remove a modal\n   */\n  remove: (oldModal: Ref<Element>) => {\n    modals = modals.filter((modal) => modal !== oldModal);\n  },\n\n  /**\n   * When multiple modals are rendered will return true if current modal is the last one\n   */\n  isTopModal: (modal: Ref<Element>) => !!modals.length && modals[modals.length - 1] === modal,\n};\n\nexport function useModalManager(ref: Ref<Element>, open: boolean) {\n  useEffect(() => {\n    if (open) {\n      modalManager.add(ref);\n    }\n    return () => {\n      modalManager.remove(ref);\n    };\n  }, [open, ref]);\n}\n"],"mappings":";AAEA,IAAIA,MAAM,GAAmB,EAA7B;IAMaC,YAAY,GAAG;EAI1BC,GAAG,EAAE,SAAAA,IAACC,QAAD;IACHH,MAAM,CAACI,IAAP,CAAYD,QAAZ;GALwB;EAW1BE,MAAM,EAAE,SAAAA,OAACC,QAAD;IACNN,MAAM,GAAGA,MAAM,CAACO,MAAP,CAAc,UAACC,KAAD;MAAA,OAAWA,KAAK,KAAKF,QAArB;KAAd,CAAT;GAZwB;EAkB1BG,UAAU,EAAE,SAAAA,WAACD,KAAD;IAAA,OAAyB,CAAC,CAACR,MAAM,CAACU,MAAT,IAAmBV,MAAM,CAACA,MAAM,CAACU,MAAP,GAAgB,CAAjB,CAAN,KAA8BF,KAA1E;;AAlBc;SAqBZG,gBAAgBC,GAAA,EAAmBC,IAAA;EACjDC,SAAS,CAAC;IACR,IAAID,IAAJ,EAAU;MACRZ,YAAY,CAACC,GAAb,CAAiBU,GAAjB;;IAEF,OAAO;MACLX,YAAY,CAACI,MAAb,CAAoBO,GAApB;KADF;GAJO,EAON,CAACC,IAAD,EAAOD,GAAP,CAPM,CAAT;AAQD"},"metadata":{},"sourceType":"module","externalDependencies":[]}