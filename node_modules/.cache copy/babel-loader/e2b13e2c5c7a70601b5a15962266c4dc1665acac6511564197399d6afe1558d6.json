{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { getStylesObject, cleanChildren, __DEV__ } from '@sajari/react-sdk-utils';\nimport React__default, { useRef, cloneElement } from 'react';\nimport { jsx } from '@emotion/core/jsx-runtime';\nimport Box from '../../Box/index.esm.js';\nimport { useTabContext } from '../context.esm.js';\nimport useTabListStyles from './styles.esm.js';\nvar _excluded = [\"children\", \"onKeyDown\", \"onClick\", \"styles\"];\nvar TabList = /*#__PURE__*/React__default.forwardRef(function (props, ref) {\n  var children = props.children,\n    onKeyDown = props.onKeyDown,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  var _useTabContext = useTabContext(),\n    id = _useTabContext.id,\n    selectedIndex = _useTabContext.index,\n    manualIndex = _useTabContext.manualIndex,\n    onManualTabChange = _useTabContext.onManualTabChange,\n    manual = _useTabContext.manual,\n    onChangeTab = _useTabContext.onChangeTab,\n    onFocusPanel = _useTabContext.onFocusPanel,\n    _useTabContext$disabl = _useTabContext.disableDefaultStyles,\n    disableDefaultStyles = _useTabContext$disabl === void 0 ? false : _useTabContext$disabl;\n  var styles = getStylesObject(useTabListStyles(), disableDefaultStyles);\n  var allNodes = useRef([]);\n  var validChildren = cleanChildren(children);\n  var focusableIndexes = validChildren.map(function (child, index) {\n    return child.props.disabled === true ? null : index;\n  }).filter(function (index) {\n    return index != null;\n  });\n  var enabledSelectedIndex = focusableIndexes.indexOf(selectedIndex);\n  var count = focusableIndexes.length;\n  var updateIndex = function updateIndex(index) {\n    var _allNodes$current$chi;\n    var childIndex = focusableIndexes[index];\n    (_allNodes$current$chi = allNodes.current[childIndex]) == null ? void 0 : _allNodes$current$chi.focus();\n    if (onChangeTab) {\n      onChangeTab(childIndex);\n    }\n  };\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === 'ArrowRight') {\n      event.preventDefault();\n      var nextIndex = (enabledSelectedIndex + 1) % count;\n      updateIndex(nextIndex);\n    }\n    if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\n      event.preventDefault();\n      var _nextIndex = (enabledSelectedIndex - 1 + count) % count;\n      updateIndex(_nextIndex);\n    }\n    if (event.key === 'Home') {\n      event.preventDefault();\n      updateIndex(0);\n    }\n    if (event.key === 'End') {\n      event.preventDefault();\n      updateIndex(count - 1);\n    }\n    if (event.key === 'ArrowDown') {\n      event.preventDefault();\n      if (onFocusPanel) {\n        onFocusPanel();\n      }\n    }\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n  var clones = validChildren.map(function (child, index) {\n    var selected = manual ? index === manualIndex : index === selectedIndex;\n    var handleClick = function handleClick(event) {\n      var _allNodes$current$ind;\n      (_allNodes$current$ind = allNodes.current[index]) == null ? void 0 : _allNodes$current$ind.focus();\n      onManualTabChange(index);\n      onChangeTab(index);\n      if (child.props.onClick) {\n        child.props.onClick(event);\n      }\n    };\n    return /*#__PURE__*/cloneElement(child, {\n      ref: function ref(node) {\n        allNodes.current[index] = node;\n        return node;\n      },\n      selected: selected,\n      onClick: handleClick,\n      id: id + \"-\" + index\n    });\n  });\n  return jsx(Box, {\n    css: styles.container,\n    children: jsx(Box, _extends({\n      ref: ref,\n      role: \"tablist\",\n      onKeyDown: handleKeyDown,\n      css: styles.innerContainer\n    }, rest, {\n      children: clones\n    }))\n  });\n});\nif (__DEV__) {\n  TabList.displayName = 'TabList';\n}\nexport default TabList;","map":{"version":3,"names":["TabList","React__default","forwardRef","props","ref","children","onKeyDown","rest","_objectWithoutPropertiesLoose","_excluded","_useTabContext","useTabContext","id","selectedIndex","index","manualIndex","onManualTabChange","manual","onChangeTab","onFocusPanel","disableDefaultStyles","_useTabContext$disabl","styles","getStylesObject","useTabListStyles","allNodes","useRef","validChildren","cleanChildren","focusableIndexes","map","child","disabled","filter","enabledSelectedIndex","indexOf","count","length","updateIndex","childIndex","_allNodes$current$chi","current","focus","handleKeyDown","event","key","preventDefault","nextIndex","_nextIndex","clones","selected","handleClick","_allNodes$current$ind","onClick","cloneElement","node","jsx","Box","css","container","_extends","role","innerContainer","__DEV__","displayName"],"sources":["C:\\Users\\이세희\\Documents\\project_oyr\\node_modules\\@sajari\\react-components\\src\\Tabs\\TabList\\index.tsx"],"sourcesContent":["import { __DEV__, cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport React, { cloneElement, useRef } from 'react';\n\nimport Box from '../../Box';\nimport { useTabContext } from '../context';\nimport useTabListStyles from './styles';\nimport { TabListProps } from './types';\n\nconst TabList = React.forwardRef((props: TabListProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { children, onKeyDown, onClick, styles: stylesProp, ...rest } = props;\n  const {\n    id,\n    index: selectedIndex,\n    manualIndex,\n    onManualTabChange,\n    manual,\n    onChangeTab,\n    onFocusPanel,\n    disableDefaultStyles = false,\n  } = useTabContext();\n  const styles = getStylesObject(useTabListStyles(), disableDefaultStyles);\n  const allNodes = useRef<(HTMLElement | null)[]>([]);\n  const validChildren = cleanChildren(children);\n\n  const focusableIndexes = validChildren\n    .map((child, index) => (child.props.disabled === true ? null : index))\n    .filter((index) => index != null) as number[];\n\n  const enabledSelectedIndex = focusableIndexes.indexOf(selectedIndex);\n  const count = focusableIndexes.length;\n\n  const updateIndex = (index: number) => {\n    const childIndex = focusableIndexes[index];\n\n    allNodes.current[childIndex]?.focus();\n\n    if (onChangeTab) {\n      onChangeTab(childIndex);\n    }\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === 'ArrowRight') {\n      event.preventDefault();\n      const nextIndex = (enabledSelectedIndex + 1) % count;\n      updateIndex(nextIndex);\n    }\n\n    if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\n      event.preventDefault();\n      const nextIndex = (enabledSelectedIndex - 1 + count) % count;\n      updateIndex(nextIndex);\n    }\n\n    if (event.key === 'Home') {\n      event.preventDefault();\n      updateIndex(0);\n    }\n\n    if (event.key === 'End') {\n      event.preventDefault();\n      updateIndex(count - 1);\n    }\n\n    if (event.key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (onFocusPanel) {\n        onFocusPanel();\n      }\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const clones = validChildren.map((child, index) => {\n    const selected = manual ? index === manualIndex : index === selectedIndex;\n\n    const handleClick = (event: React.MouseEvent) => {\n      // Hack for Safari. Buttons don't receive focus on click on Safari\n      // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n      allNodes.current[index]?.focus();\n\n      onManualTabChange(index);\n      onChangeTab(index);\n\n      if (child.props.onClick) {\n        child.props.onClick(event);\n      }\n    };\n\n    return cloneElement(child, {\n      ref: (node: HTMLElement | null) => {\n        allNodes.current[index] = node;\n        return node;\n      },\n      selected,\n      onClick: handleClick,\n      id: `${id}-${index}`,\n    });\n  });\n\n  return (\n    <Box css={styles.container}>\n      <Box ref={ref} role=\"tablist\" onKeyDown={handleKeyDown} css={styles.innerContainer} {...rest}>\n        {clones}\n      </Box>\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  TabList.displayName = 'TabList';\n}\n\nexport default TabList;\nexport type { TabListProps };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}