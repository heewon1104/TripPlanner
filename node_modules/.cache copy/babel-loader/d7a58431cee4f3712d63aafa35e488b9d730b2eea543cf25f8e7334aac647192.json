{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport { getStylesObject, __DEV__ } from '@sajari/react-sdk-utils';\nimport { forwardRef, useState, cloneElement } from 'react';\nimport { jsx, jsxs, Fragment } from '@emotion/core/jsx-runtime';\nimport Box from '../Box/index.esm.js';\nimport AspectRatio from '../AspectRatio/index.esm.js';\nimport { useImageStyles } from './styles.esm.js';\nimport useImageProvider from './useImageProvider.esm.js';\nvar _excluded = [\"htmlWidth\", \"htmlHeight\", \"alt\", \"loading\"],\n  _excluded2 = [\"src\", \"hoverSrc\", \"onError\", \"onLoad\", \"onMouseEnter\", \"onMouseLeave\", \"htmlWidth\", \"htmlHeight\", \"aspectRatio\", \"objectFit\", \"className\", \"containerClassName\", \"disableDefaultStyles\", \"width\", \"height\", \"provider\"];\nvar NativeImage = /*#__PURE__*/forwardRef(function (props, ref) {\n  var htmlWidth = props.htmlWidth,\n    htmlHeight = props.htmlHeight,\n    _props$alt = props.alt,\n    alt = _props$alt === void 0 ? '' : _props$alt,\n    _props$loading = props.loading,\n    loading = _props$loading === void 0 ? 'lazy' : _props$loading,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  return jsx(\"img\", _extends({\n    ref: ref,\n    width: htmlWidth,\n    height: htmlHeight,\n    alt: alt,\n    loading: loading\n  }, rest));\n});\nvar Image = /*#__PURE__*/forwardRef(function (props, ref) {\n  var srcProp = props.src,\n    hoverSrcProp = props.hoverSrc,\n    onError = props.onError,\n    onLoad = props.onLoad,\n    onMouseEnterExternal = props.onMouseEnter,\n    onMouseLeaveExternal = props.onMouseLeave,\n    htmlWidth = props.htmlWidth,\n    htmlHeight = props.htmlHeight,\n    aspectRatio = props.aspectRatio,\n    containerClassName = props.containerClassName,\n    _props$disableDefault = props.disableDefaultStyles,\n    disableDefaultStyles = _props$disableDefault === void 0 ? false : _props$disableDefault,\n    width = props.width,\n    height = props.height,\n    provider = props.provider,\n    rest = _objectWithoutPropertiesLoose(props, _excluded2);\n  var _React$useState = useState(false),\n    hover = _React$useState[0],\n    setHover = _React$useState[1];\n  var _useImageProvider = useImageProvider({\n      provider: provider,\n      images: [srcProp, hoverSrcProp],\n      width: width,\n      height: height\n    }),\n    src = _useImageProvider[0],\n    hoverSrc = _useImageProvider[1];\n  var onMouseEnter = function onMouseEnter(e) {\n    if (hoverSrc) {\n      setHover(true);\n    }\n    onMouseEnterExternal == null ? void 0 : onMouseEnterExternal(e);\n  };\n  var onMouseLeave = function onMouseLeave(e) {\n    if (hoverSrc) {\n      setHover(false);\n    }\n    onMouseLeaveExternal == null ? void 0 : onMouseLeaveExternal(e);\n  };\n  var imageProps = {\n    src: src,\n    onLoad: onLoad,\n    onError: onError,\n    htmlWidth: htmlWidth,\n    htmlHeight: htmlHeight,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  };\n  var styles = getStylesObject(useImageStyles(_extends({}, props, {\n    hover: hover\n  })), disableDefaultStyles);\n  var image = jsx(Box, _extends({\n    as: NativeImage,\n    ref: ref,\n    css: styles.image\n  }, imageProps, rest));\n  var secondImage = /*#__PURE__*/cloneElement(image, {\n    src: hoverSrc,\n    css: styles.secondImage\n  });\n  return jsx(AspectRatio, {\n    ratio: aspectRatio != null ? aspectRatio : null,\n    css: styles.container,\n    className: containerClassName,\n    children: jsxs(Fragment, {\n      children: [src ? image : null, hoverSrc ? secondImage : null]\n    })\n  });\n});\nif (__DEV__) {\n  Image.displayName = 'Image';\n}\nexport default Image;","map":{"version":3,"names":["NativeImage","forwardRef","props","ref","htmlWidth","htmlHeight","alt","_props$alt","loading","_props$loading","rest","_objectWithoutPropertiesLoose","_excluded","jsx","_extends","width","height","Image","srcProp","src","hoverSrcProp","hoverSrc","onError","onLoad","onMouseEnterExternal","onMouseEnter","onMouseLeaveExternal","onMouseLeave","aspectRatio","containerClassName","disableDefaultStyles","_props$disableDefault","provider","_excluded2","_React$useState","useState","hover","setHover","_useImageProvider","useImageProvider","images","e","imageProps","styles","getStylesObject","useImageStyles","image","Box","as","css","secondImage","cloneElement","AspectRatio","ratio","container","className","children","jsxs","Fragment","__DEV__","displayName"],"sources":["C:\\Users\\이세희\\Documents\\project_oyr\\node_modules\\@sajari\\react-components\\src\\Image\\index.tsx"],"sourcesContent":["import { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport AspectRatio from '../AspectRatio';\nimport Box from '../Box';\nimport { useImageStyles } from './styles';\nimport { ImageProps } from './types';\nimport useImageProvider from './useImageProvider';\n\ninterface NativeImageProps {\n  htmlWidth?: ImageProps['htmlWidth'];\n  htmlHeight?: ImageProps['htmlHeight'];\n  alt?: ImageProps['alt'];\n  loading?: ImageProps['loading'];\n}\n\nconst NativeImage = React.forwardRef((props: NativeImageProps, ref?: React.Ref<HTMLImageElement>) => {\n  const { htmlWidth, htmlHeight, alt = '', loading = 'lazy', ...rest } = props;\n\n  return <img ref={ref} width={htmlWidth} height={htmlHeight} alt={alt} loading={loading} {...rest} />;\n});\n\nconst Image = React.forwardRef((props: ImageProps, ref?: React.Ref<HTMLImageElement>) => {\n  const {\n    src: srcProp,\n    hoverSrc: hoverSrcProp,\n    onError,\n    onLoad,\n    onMouseEnter: onMouseEnterExternal,\n    onMouseLeave: onMouseLeaveExternal,\n    htmlWidth,\n    htmlHeight,\n    aspectRatio,\n    objectFit,\n    className,\n    containerClassName,\n    disableDefaultStyles = false,\n    width,\n    height,\n    provider,\n    ...rest\n  } = props;\n  const [hover, setHover] = React.useState(false);\n  const [src, hoverSrc] = useImageProvider({ provider, images: [srcProp, hoverSrcProp], width, height });\n\n  const onMouseEnter = (e) => {\n    if (hoverSrc) {\n      setHover(true);\n    }\n    onMouseEnterExternal?.(e);\n  };\n\n  const onMouseLeave = (e) => {\n    if (hoverSrc) {\n      setHover(false);\n    }\n    onMouseLeaveExternal?.(e);\n  };\n\n  const imageProps = {\n    src,\n    onLoad,\n    onError,\n    htmlWidth,\n    htmlHeight,\n    onMouseEnter,\n    onMouseLeave,\n  };\n\n  const styles = getStylesObject(useImageStyles({ ...props, hover }), disableDefaultStyles);\n  const image = <Box as={NativeImage} ref={ref} css={styles.image} {...imageProps} {...rest} />;\n  const secondImage = React.cloneElement(image, { src: hoverSrc, css: styles.secondImage });\n\n  return (\n    <AspectRatio ratio={aspectRatio ?? null} css={styles.container} className={containerClassName}>\n      <>\n        {src ? image : null}\n        {hoverSrc ? secondImage : null}\n      </>\n    </AspectRatio>\n  );\n});\n\nif (__DEV__) {\n  Image.displayName = 'Image';\n}\n\nexport default Image;\nexport type { ImageProps };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}