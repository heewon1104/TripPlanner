{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\uC774\\uC138\\uD76C/Documents/project_oyr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./login.css\";import React,{useState}from\"react\";import logo_img from\"./assets/logo.PNG\";import Modalsignup from\"./modal_signup\";import Button from\"react-bootstrap/Button\";import\"bootstrap/dist/css/bootstrap.min.css\";import{useFormik}from\"formik\";import*as Yup from\"yup\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){//  modal state - 회원가입창\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var validationSchema=Yup.object().shape({inputId:Yup.string().required(\"아이디를 입력하세요.\"),inputPw:Yup.string().required(\"비밀번호를 입력하세요.\")});var formik=useFormik({initialValues:{inputId:\"\",inputPw:\"\"},validationSchema:validationSchema,onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;console.log(\"Form Values:\",values);if(!values.inputId||!values.inputPw){alert(\"아이디와 비밀번호를 입력해주세요.\");setSubmitting(false);return;}axios.post(\"/\",null,{params:{user_id:values.inputId,user_pw:values.inputPw}}).then(function(res){console.log(res);console.log(\"res.data.userId :: \",res.data.userId);console.log(\"res.data.msg :: \",res.data.msg);if(res.data.userId===undefined){alert(\"입력하신 id 가 일치하지 않습니다.\");}else if(res.data.userId===null){alert(\"입력하신 비밀번호 가 일치하지 않습니다.\");}else if(res.data.userId===values.inputId){sessionStorage.setItem(\"user_id\",values.inputId);}// 작업 완료 되면 페이지 이동(새로고침)\ndocument.location.href=\"/main\";}).catch().finally(function(){setSubmitting(false);});}});return/*#__PURE__*/_jsx(\"div\",{className:\"mainbox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img_box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img_airplane\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home_box1 \",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img_logo\",src:logo_img,alt:\"logo\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"inputbox_border\",className:\"home_box2 box\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"login_id\",className:\"input_login\",type:\"text\",placeholder:\"user ID\",name:\"inputId\",value:formik.values.inputId,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.inputId&&formik.errors.inputId&&/*#__PURE__*/_jsx(\"div\",{className:\"error_message\",children:formik.errors.inputId})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"inputbox_border\",className:\"home_box2 box\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"login_pw\",className:\"input_login\",type:\"password\",placeholder:\"user PW\",name:\"inputPw\",value:formik.values.inputPw,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.inputPw&&formik.errors.inputPw&&/*#__PURE__*/_jsx(\"div\",{className:\"error_message\",children:formik.errors.inputPw})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn_login\",type:\"submit\",disabled:formik.isSubmitting,children:\"Sign in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"home_box3\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{id:\"btn_signup\",variant:\"primary\",onClick:function onClick(){setModalOpen(true);console.log(\"click signup\");},children:\"Sign up\"}),/*#__PURE__*/_jsx(Modalsignup,{show:modalOpen,onHide:function onHide(){return setModalOpen(false);}})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"copyright\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"copyright_txt\",children:\"\\u24D2 2023. OYR_PROJECT All Rights Reserved.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"copyright_txt\",children:\"OpenYearRound@naver.com\"})]})]})]})});}export default LoginPage;","map":{"version":3,"names":["React","useState","logo_img","Modalsignup","Button","useFormik","Yup","axios","jsx","_jsx","jsxs","_jsxs","LoginPage","_useState","_useState2","_slicedToArray","modalOpen","setModalOpen","validationSchema","object","shape","inputId","string","required","inputPw","formik","initialValues","onSubmit","values","_ref","setSubmitting","console","log","alert","post","params","user_id","user_pw","then","res","data","userId","msg","undefined","sessionStorage","setItem","document","location","href","catch","finally","className","children","src","alt","handleSubmit","id","type","placeholder","name","value","onChange","handleChange","onBlur","handleBlur","touched","errors","disabled","isSubmitting","variant","onClick","show","onHide"],"sources":["C:/Users/이세희/Documents/project_oyr/src/login.js"],"sourcesContent":["import \"./login.css\";\r\nimport React, { useState } from \"react\";\r\nimport logo_img from \"./assets/logo.PNG\";\r\nimport Modalsignup from \"./modal_signup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\n\r\nfunction LoginPage() {\r\n  //  modal state - 회원가입창\r\n  let [modalOpen, setModalOpen] = useState(false);\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    inputId: Yup.string().required(\"아이디를 입력하세요.\"),\r\n    inputPw: Yup.string().required(\"비밀번호를 입력하세요.\"),\r\n  });\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      inputId: \"\",\r\n      inputPw: \"\",\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values, { setSubmitting }) => {\r\n      console.log(\"Form Values:\", values);\r\n      if (!values.inputId || !values.inputPw) {\r\n        alert(\"아이디와 비밀번호를 입력해주세요.\");\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n      axios\r\n        .post(\"/\", null, {\r\n          params: {\r\n            user_id: values.inputId,\r\n            user_pw: values.inputPw,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          console.log(\"res.data.userId :: \", res.data.userId);\r\n          console.log(\"res.data.msg :: \", res.data.msg);\r\n          if (res.data.userId === undefined) {\r\n            alert(\"입력하신 id 가 일치하지 않습니다.\");\r\n          } else if (res.data.userId === null) {\r\n            alert(\"입력하신 비밀번호 가 일치하지 않습니다.\");\r\n          } else if (res.data.userId === values.inputId) {\r\n            sessionStorage.setItem(\"user_id\", values.inputId);\r\n          }\r\n          // 작업 완료 되면 페이지 이동(새로고침)\r\n          document.location.href = \"/main\";\r\n        })\r\n        .catch()\r\n        .finally(() => {\r\n          setSubmitting(false);\r\n        });\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"mainbox\">\r\n      <div className=\"home-container\">\r\n        <div className=\"img_box\">\r\n          <div className=\"img_airplane\"></div>\r\n        </div>\r\n        <div className=\"login_box\">\r\n          <div className=\"home_box1 \">\r\n            <img className=\"img_logo\" src={logo_img} alt=\"logo\"></img>\r\n            <form onSubmit={formik.handleSubmit}>\r\n              <div id=\"inputbox_border\" className=\"home_box2 box\">\r\n                <input\r\n                  id=\"login_id\"\r\n                  className=\"input_login\"\r\n                  type=\"text\"\r\n                  placeholder=\"user ID\"\r\n                  name=\"inputId\"\r\n                  value={formik.values.inputId}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                />\r\n                {formik.touched.inputId && formik.errors.inputId && (\r\n                  <div className=\"error_message\">{formik.errors.inputId}</div>\r\n                )}\r\n              </div>\r\n              <div id=\"inputbox_border\" className=\"home_box2 box\">\r\n                <input\r\n                  id=\"login_pw\"\r\n                  className=\"input_login\"\r\n                  type=\"password\"\r\n                  placeholder=\"user PW\"\r\n                  name=\"inputPw\"\r\n                  value={formik.values.inputPw}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                />\r\n                {formik.touched.inputPw && formik.errors.inputPw && (\r\n                  <div className=\"error_message\">{formik.errors.inputPw}</div>\r\n                )}\r\n              </div>\r\n              <button\r\n                className=\"btn_login\"\r\n                type=\"submit\"\r\n                disabled={formik.isSubmitting}\r\n              >\r\n                Sign in\r\n              </button>\r\n              <div className=\"home_box3\">\r\n                <div>\r\n                  <Button\r\n                    id=\"btn_signup\"\r\n                    variant=\"primary\"\r\n                    onClick={() => {\r\n                      setModalOpen(true);\r\n                      console.log(\"click signup\");\r\n                    }}\r\n                  >\r\n                    Sign up\r\n                  </Button>\r\n                  {/*회원가입 버튼*/}\r\n                  <Modalsignup\r\n                    show={modalOpen}\r\n                    onHide={() => setModalOpen(false)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"copyright\">\r\n            <div className=\"copyright_txt\">\r\n              ⓒ 2023. OYR_PROJECT All Rights Reserved.\r\n            </div>\r\n            <div className=\"copyright_txt\">OpenYearRound@naver.com</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}