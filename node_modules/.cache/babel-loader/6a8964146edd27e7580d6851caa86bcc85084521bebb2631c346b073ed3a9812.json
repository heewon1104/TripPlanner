{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nfunction Weatherapi() {\n  _s();\n  const [coords, saveCoords] = useState();\n  const [temp, setTemp] = useState();\n  const [weather, setWeather] = useState();\n  function handleGeoSucc(position) {\n    console.log(position);\n    const latitude = position.coords.latitude; // 경도  \n    const longitude = position.coords.longitude; // 위도\n    const time = 1100;\n    const coordsObj = {\n      latitude,\n      longitude\n    };\n    saveCoords(coordsObj);\n    getWeather(latitude, longitude, time);\n  }\n  function handleGeoErr(err) {\n    console.log(\"geo err! \" + err);\n  }\n  function requestCoords() {\n    navigator.geolocation.getCurrentPosition(handleGeoSucc, handleGeoErr);\n  }\n  function getWeather(lat, lon, time) {\n    fetch(`https://api.openweathermap.org/data/3.0/onecall/timemachine?lat=${lat}&lon=${lon}&dt=${time}&appid=${'ad14089cb0bfefe6bd1b977b00f4f4b0'}&units=metric`).then(res => res.json()).then(data => {\n      console.log(data);\n      if (data && data.main && data.main.temp && data.weather && data.weather.length > 0) {\n        const temp = data.main.temp;\n        const weathers = data.weather[data.weather.length - 1];\n        setTemp(temp);\n        setWeather(weathers.main);\n      } else {\n        console.log('Weather data is incomplete.');\n      }\n    }).catch(error => {\n      console.log('Error fetching weather data:', error);\n    });\n  }\n  useEffect(() => {\n    requestCoords();\n  }, []);\n}\n_s(Weatherapi, \"ZWCtNlDEhxdE0+WxjGuSDgYpGsE=\");\n_c = Weatherapi;\nexport default Weatherapi;\nvar _c;\n$RefreshReg$(_c, \"Weatherapi\");","map":{"version":3,"names":["React","useState","useEffect","Weatherapi","_s","coords","saveCoords","temp","setTemp","weather","setWeather","handleGeoSucc","position","console","log","latitude","longitude","time","coordsObj","getWeather","handleGeoErr","err","requestCoords","navigator","geolocation","getCurrentPosition","lat","lon","fetch","then","res","json","data","main","length","weathers","catch","error","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/reactstudy/reactstudy/src/components/apitest.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n\nfunction Weatherapi(){\n    const [coords, saveCoords] = useState();\n    const [temp, setTemp] = useState();\n    const [weather, setWeather] = useState();\n        \n    function handleGeoSucc(position) {\n        console.log(position);\n        const latitude = position.coords.latitude;  // 경도  \n        const longitude = position.coords.longitude;  // 위도\n        const time = 1100\n        const coordsObj = {\n        latitude,\n        longitude\n        }\n        saveCoords(coordsObj);\n        getWeather(latitude, longitude, time);\n    }\n\n    function handleGeoErr(err) {\n        console.log(\"geo err! \" + err);\n    }\n\n    function requestCoords() {\n        navigator.geolocation.getCurrentPosition(handleGeoSucc, handleGeoErr);\n    }\n\n    function getWeather(lat, lon, time) {\n        fetch(`https://api.openweathermap.org/data/3.0/onecall/timemachine?lat=${lat}&lon=${lon}&dt=${time}&appid=${'ad14089cb0bfefe6bd1b977b00f4f4b0'}&units=metric`)\n        .then(res => res.json())\n        .then(data => {\n            console.log(data);\n            if (data && data.main && data.main.temp && data.weather && data.weather.length > 0) {\n                const temp = data.main.temp;\n                const weathers = data.weather[data.weather.length - 1];\n                setTemp(temp);\n                setWeather(weathers.main);\n            } else {\n                console.log('Weather data is incomplete.');\n            }\n        })\n        .catch(error => {\n            console.log('Error fetching weather data:', error);\n        });\n    }\n\n    useEffect(() => {\n        requestCoords();\n    }, []);\n}\n\nexport default Weatherapi;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAGlD,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EACjB,MAAM,CAACC,MAAM,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,CAAC;EACvC,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,CAAC;EAClC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,CAAC;EAExC,SAASU,aAAaA,CAACC,QAAQ,EAAE;IAC7BC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,MAAMG,QAAQ,GAAGH,QAAQ,CAACP,MAAM,CAACU,QAAQ,CAAC,CAAE;IAC5C,MAAMC,SAAS,GAAGJ,QAAQ,CAACP,MAAM,CAACW,SAAS,CAAC,CAAE;IAC9C,MAAMC,IAAI,GAAG,IAAI;IACjB,MAAMC,SAAS,GAAG;MAClBH,QAAQ;MACRC;IACA,CAAC;IACDV,UAAU,CAACY,SAAS,CAAC;IACrBC,UAAU,CAACJ,QAAQ,EAAEC,SAAS,EAAEC,IAAI,CAAC;EACzC;EAEA,SAASG,YAAYA,CAACC,GAAG,EAAE;IACvBR,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGO,GAAG,CAAC;EAClC;EAEA,SAASC,aAAaA,CAAA,EAAG;IACrBC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAACd,aAAa,EAAES,YAAY,CAAC;EACzE;EAEA,SAASD,UAAUA,CAACO,GAAG,EAAEC,GAAG,EAAEV,IAAI,EAAE;IAChCW,KAAK,CAAE,mEAAkEF,GAAI,QAAOC,GAAI,OAAMV,IAAK,UAAS,kCAAmC,eAAc,CAAC,CAC7JY,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACVnB,OAAO,CAACC,GAAG,CAACkB,IAAI,CAAC;MACjB,IAAIA,IAAI,IAAIA,IAAI,CAACC,IAAI,IAAID,IAAI,CAACC,IAAI,CAAC1B,IAAI,IAAIyB,IAAI,CAACvB,OAAO,IAAIuB,IAAI,CAACvB,OAAO,CAACyB,MAAM,GAAG,CAAC,EAAE;QAChF,MAAM3B,IAAI,GAAGyB,IAAI,CAACC,IAAI,CAAC1B,IAAI;QAC3B,MAAM4B,QAAQ,GAAGH,IAAI,CAACvB,OAAO,CAACuB,IAAI,CAACvB,OAAO,CAACyB,MAAM,GAAG,CAAC,CAAC;QACtD1B,OAAO,CAACD,IAAI,CAAC;QACbG,UAAU,CAACyB,QAAQ,CAACF,IAAI,CAAC;MAC7B,CAAC,MAAM;QACHpB,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;MAC9C;IACJ,CAAC,CAAC,CACDsB,KAAK,CAACC,KAAK,IAAI;MACZxB,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEuB,KAAK,CAAC;IACtD,CAAC,CAAC;EACN;EAEAnC,SAAS,CAAC,MAAM;IACZoB,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;AACV;AAAClB,EAAA,CAhDQD,UAAU;AAAAmC,EAAA,GAAVnC,UAAU;AAkDnB,eAAeA,UAAU;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}